# ZV36.prg

- Jobs: [8](#jobs)
- Tables: [4](#tables)

## INFO

| Field | Value |
| --- | --- |
| ECU | ZV-Modul E36 - Zentralverriegelungsmodul |
| ORIGIN | BMW TP-421 Gerd Huber |
| REVISION | 1.04 |
| AUTHOR | BMW TP-421 Gerd Huber |
| COMMENT | N/A |
| PACKAGE | N/A |
| SPRACHE | deutsch |

## Jobs

### Index

- [INFO](#job-info) - Info fuer Anwender
- [INITIALISIERUNG](#job-initialisierung) - Init-Job fuer Grundmodul IV automatischer Aufruf beim ersten Zugriff auf SGBD
- [IDENT](#job-ident) - Ident-Daten fuer GM IV
- [FS_LESEN](#job-fs-lesen) - Fehlerspeicher lesen ZV-spezifisches Konzept
- [FS_LOESCHEN](#job-fs-loeschen) - Fehlerspeicher loeschen
- [DIAGNOSE_ENDE](#job-diagnose-ende) - Diagnose beenden
- [STATUS_DIGITAL](#job-status-digital) - Status der Digitalsignale des ZV-Moduls (Ein-/Ausgaenge)
- [STEUERN_DIGITAL](#job-steuern-digital) - Ansteuern digitaler Ausgaenge des ZV-Moduls

<a id="job-info"></a>
### INFO

Info fuer Anwender

_No arguments._

#### Results

| Name | Type | Comment |
| --- | --- | --- |
| ECU | string | Steuergerat im Klartext |
| ORIGIN | string | Steuergeraete-Verantwortlicher |
| REVISION | string | Versions-Nummer |
| AUTHOR | string | Namen aller Autoren |
| COMMENT | string | wichtige Hinweise |
| SPRACHE | string | deutsch / english |

<a id="job-initialisierung"></a>
### INITIALISIERUNG

Init-Job fuer Grundmodul IV automatischer Aufruf beim ersten Zugriff auf SGBD

_No arguments._

#### Results

| Name | Type | Comment |
| --- | --- | --- |
| DONE | int | 1 wenn Okay |

<a id="job-ident"></a>
### IDENT

Ident-Daten fuer GM IV

_No arguments._

#### Results

| Name | Type | Comment |
| --- | --- | --- |
| JOB_STATUS | string | Status der Kommunikation table JobResult STATUS_TEXT |
| ID_PP_NR | int | Pruefplannummer |
| ID_GEN_NR | int | Generationsnummer |
| ID_LIEF_NR | int | Lieferanten-Nummer |
| ID_LIEF_TEXT | string | Lieferanten-Text table Lieferanten LIEF_TEXT |
| ID_VERSIONS_NR | int | Versionsnummer |
| ID_AUSFUEHRUNG | string | Ausfuehrung des ZV-Moduls |
| ID_COD_TSH_VERBAUT | int | Tuerschlossheizung |
| ID_COD_IL_BEI_TGK | int | Innenlicht bei Tuergriffkontakt |
| ID_COD_SOFT_ON | int | Soft on/off |
| ID_COD_IB_VERZOEGERUNG | int | Innenbeleuchtung mit Verzoegerung |
| ID_COD_IB_KL58_UND_KLR | int | Innenbeleuuchtung auf Klemme 58 und Klemme R |
| ID_COD_IB_NUR_KLR | int | Innenbeleuchtung auf Klemme R allein |
| ID_COD_LA | string | Laendercodierung |
| ID_COD_HK_VERBAUT | int | Aggregat Heckklappe verbaut |
| ID_COD_ZV_VERBAUT | int | Zentralverriegelung verbaut |
| ID_DATUM_KW | int | Herstelldatum KW |
| ID_DATUM_JAHR | int | Herstelldatum Jahr |
| ID_DATUM_FS_KW | int | Herstelldatum KW |
| ID_DATUM_FS_JAHR | int | Herstelldatum Jahr |
| _TEL_ANTWORT | binary |  |

<a id="job-fs-lesen"></a>
### FS_LESEN

Fehlerspeicher lesen ZV-spezifisches Konzept

_No arguments._

#### Results

| Name | Type | Comment |
| --- | --- | --- |
| JOB_STATUS | string | OKAY, ERROR_.. |
| F_ORT_NR | int | momentan identisch Fehlerbyte |
| F_ORT_TEXT | string | Fehlerort als Text table FOrtTexte ORTTEXT |
| F_HFK | int | Wertebereich 0 - 31 |
| F_ART_ANZ | int | immer 0 |
| F_UW_ANZ | int | immer 0 |
| _TEL_ANTWORT | binary |  |

<a id="job-fs-loeschen"></a>
### FS_LOESCHEN

Fehlerspeicher loeschen

#### Arguments

| Name | Type | Comment |
| --- | --- | --- |
| LOESCHDATUM_KW | int | aktuelle Kalenderwoche beim Loeschen des Fehlerspeichers |
| LOESCHDATUM_JAHR | int | aktuelles Kalemderjahr beim Loeschen des Fehlerspeichers |

#### Results

| Name | Type | Comment |
| --- | --- | --- |
| JOB_STATUS | string | OKAY, ERROR_.. |
| _TEL_ANTWORT | binary |  |

<a id="job-diagnose-ende"></a>
### DIAGNOSE_ENDE

Diagnose beenden

_No arguments._

#### Results

| Name | Type | Comment |
| --- | --- | --- |
| JOB_STATUS | string | OKAY, ERROR_.. |
| _TEL_ANTWORT | binary |  |

<a id="job-status-digital"></a>
### STATUS_DIGITAL

Status der Digitalsignale des ZV-Moduls (Ein-/Ausgaenge)

_No arguments._

#### Results

| Name | Type | Comment |
| --- | --- | --- |
| JOB_STATUS | string | OKAY, ERROR_.. |
| STAT_E_ZS_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_VR_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_ZS2_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_ER1_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_VR1_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_ER2_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_VR2_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_ER3_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_VR3_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_KL58_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_KLR_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_A_MZS_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_A_MER_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_A_MVR_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_TGK_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_TKFT_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_TKBT_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_TKH_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| STAT_E_DSH_AKTIV | int | 0, wenn FALSE / 1, wenn TRUE |
| _TEL_ANTWORT | binary |  |

<a id="job-steuern-digital"></a>
### STEUERN_DIGITAL

Ansteuern digitaler Ausgaenge des ZV-Moduls

#### Arguments

| Name | Type | Comment |
| --- | --- | --- |
| ORT1 | string | 1. gewuenschte Komponente table BITS NAME ART TEXT |
| ORT2 | string | 2. gewuenschte Komponente |
| ORT3 | string | 3. gewuenschte Komponente |
| ORT4 | string | 4. gewuenschte Komponente |
| ORT5 | string | 5. gewuenschte Komponente |
| ORT6 | string | 6. gewuenschte Komponente |
| ORT7 | string | 7. gewuenschte Komponente |
| ORT8 | string | 8. gewuenschte Komponente |

#### Results

| Name | Type | Comment |
| --- | --- | --- |
| JOB_STATUS | string | OKAY, ERROR_.. |
| _TEL_AN_SG | binary |  |
| _TEL_ANTWORT | binary |  |

## Tables

### Index

- [JOBRESULT](#table-jobresult) (4 × 2)
- [LIEFERANTEN](#table-lieferanten) (5 × 2)
- [FORTTEXTE](#table-forttexte) (31 × 2)
- [BITS](#table-bits) (9 × 4)

<a id="table-jobresult"></a>
### JOBRESULT

Dimensions: 4 rows × 2 columns

| SB | STATUS_TEXT |
| --- | --- |
| 0x09 | OKAY |
| 0x0B | BUSY |
| 0x0A | ERROR_ECU_NACK |
| 0xFF | ERROR_ECU_UNKNOWN_STATUSBYTE |

<a id="table-lieferanten"></a>
### LIEFERANTEN

Dimensions: 5 rows × 2 columns

| LIEF_NR | LIEF_TEXT |
| --- | --- |
| 0x00 | Kiekert |
| 0x01 | Helba |
| 0x02 | BSG |
| 0x03 | Hella |
| 0xXY | unbekannter Hersteller |

<a id="table-forttexte"></a>
### FORTTEXTE

Dimensions: 31 rows × 2 columns

| ORT | ORTTEXT |
| --- | --- |
| 0x01 | FT Kurzschluss gegen +UBATT (VR1/ER1) |
| 0x02 | BT Kurzschluss gegen +UBATT (VR2/ER2) |
| 0x03 | HK Kurzschluss gegen +UBATT (VR3/ER3) |
| 0x04 | FT Leitungsunterbrechung (VR1/ER1) |
| 0x05 | BT Leitungsunterbrechung (VR2/ER2) |
| 0x06 | HK Leitungsunterbrechung (VR3/ER3) |
| 0x07 | Tuerkontakt FT ueber 16 min aktiv |
| 0x08 | Tuerkontakt BT ueber 16 min aktiv |
| 0x09 | Tuerkontakt TH ueber 16 min aktiv |
| 0x0A | CS aktiv |
| 0x0B | CS dauernd aktiv (laenger als ca. 5 sec) |
| 0x0C | Wiederholsperre ZV aktiv |
| 0x10 | ZV-Relais: MER Kleber gegen AK |
| 0x11 | ZV-Relais: MER Kleber gegen RK |
| 0x12 | ZV-Relais: MVR Kleber gegen AK |
| 0x13 | ZV-Relais: MVR Kleber gegen RK |
| 0x14 | ZV-Relais: MZS Kleber gegen AK |
| 0x15 | ZV-Relais: MZS Kleber gegen RK |
| 0x16 | TSH: Sicherung oder Relais defekt |
| 0x17 | TSH: Heizwendel, Relaiskleber AK oder Diagnoserueckfuehrung |
| 0x18 | TSH: RSH Kurzschluss Ansteuerleitung |
| 0x19 | TSH: Sicherung RSH oder offene Ansteuerleitung |
| 0x1A | Kurzschluss Innenlicht |
| 0x20 | Power-Fail-Down (mit Datenverlust) |
| 0x21 | Stromschwelle 30 Ampere ueberschritten |
| 0x22 | Stromschwelle 50 Ampere ueberschritten |
| 0x23 | Sicherung Klemme 30ZV defekt |
| 0x24 | Masse Klemme 31ZV fehlt |
| 0x25 | Kalibrierung ausserhalb der Toleranzen |
| 0x0D | unbekannter Fehlerort |
| 0xXY | unbekannter Fehlerort |

<a id="table-bits"></a>
### BITS

Dimensions: 9 rows × 4 columns

| NAME | MASK | ART | TEXT |
| --- | --- | --- | --- |
| QZV | 0x01 | A | Schnittstelle DWA = QZV |
| CSWB | 0x02 | A | Warnblinker wegen Crash |
| RSH | 0x04 | A | Relais Schlossheizung |
| IL | 0x08 | A | Innenlicht |
| RFH | 0x10 | A | Relais Fensterheber |
| MZS | 0x20 | A | Motor Zentralsichern |
| MER | 0x40 | A | Motor Entriegeln |
| MVR | 0x80 | A | Motor Verriegeln |
| XY | 0xXY | XY | nicht definiertes Signal |
